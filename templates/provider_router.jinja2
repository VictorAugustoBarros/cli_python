"""Rotas da {{provider_name}} SMS."""

import json
from fastapi import APIRouter, Request

{{provider_name}}_router = APIRouter()


@{{provider_name}}_router.post("/vendor/{{provider_name}}/sms/dlr", tags=["{{provider_name}}"])
async def parse_dlr(request: Request):
    """Parseamento referente aos status de entrega da mensagem retornado pelo fornecedor.

    :return:
        Message (json): Mensagem sobre o retorno
        Code (int): Código referente ao retorno
    """
    body = await request.body()
    payload_str = body.decode("utf-8")
    payload = json.loads(payload_str)

    return {"payload": payload, "success": 200}


@{{provider_name}}_router.post("/vendor/{{provider_name}}/sms/response", tags=["{{provider_name}}"])
async def parse_response(request: Request):
    """Parseamento referente aos status de entrega da mensagem retornado pelo fornecedor.

    :return:
        Message (json): Mensagem sobre o retorno
        Code (int): Código referente ao retorno
    """
    body = await request.body()
    payload_str = body.decode("utf-8")
    payload = json.loads(payload_str)

    return {"payload": payload, "success": 200}
